services:
  - type: web
    name: video-redaction-app
    runtime: python-3.10
    repo: https://github.com/maverick254-coder/video-redacting-app.git
    branch: main
    
    # Start command to run FastAPI with uvicorn
    startCommand: uvicorn src.app:app --host 0.0.0.0 --port 8000
    
    # Environment variables
    envVars:
      - key: PYTHONUNBUFFERED
        value: "1"
      - key: YOLO_DEFAULT_DEVICE
        value: "cpu"
    
    # Auto-deploy on push to main
    autoDeploy: true
